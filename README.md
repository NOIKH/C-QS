# Quadratic Sieve implementation in C
Quadratic Sieve C99 implementation using [128-bit GCC extension](https://gcc.gnu.org/onlinedocs/gcc-4.8.1/gcc/_005f_005fint128.html), without GMP, also working on Windows.\
The source code is free and voluntarily obfuscated, if you want to appropriate the airy version you have to ask.

# Description
The ~350 lines C integer factorization software computes prime factors of a natural number up to 127-bit.\
This software is classified as a game, it's not well suited for professional use, sure because it's not laboriously tested.

# Algorithms in use
- First is tried a **Miller Rabin** primality test
- Then is fired a ~ 3 seconds **Pollard Rho** factorization
- Finally is fired a **Quadratic Sieve** factorization

This combination of 3 algorithms is fast on average, the factor function has no known infinite loop.

# factor (positive_number, void *)

**factor** function is expecting 2 arguments : a number to factor + 64 MB of malloced memory.\
**factor** function is intended to return to you **1**, **N** or a factor of the given number.\
The **factor** function is presented in  `main.c`, which is a demo.

# Basic use
```c
#include "qs.c"
#include <stdio.h>

int main(void){
    void * memory = malloc(1 << 25);
    
    positive_number n = from_string_128_bits("108291528056611062333982283963");
    
    while(n > 1 && !is_prime(n, 64)) {
        positive_number res = factor(n, memory) ;
        printf("%s * ", to_string_128_bits(res)); fflush(stdout);
        n /= res ;
    }
    printf("%s", to_string_128_bits(n));
    free(memory);
}
```
Functions `from_string_128_bits` and `to_string_128_bits` are provided in `main.c`.

# Example output
```c
170141183460469231731687303715506697937  = 13602473 * 230287853 * 54315095311400476747373    took 0.1s
8243928541348384902759309418206720079    = 6193867823865156404384873 * 1330982316023         took 34.3s
159764310524856141862111460773005043181  = 18093538864531617269 * 8829909489847713049        took 30.4s
121379895327603193205768410338836433331  = 13890724788103667879 * 8738197407204819989        took 103.0s
128852603101275256030280062065703483477  = 8097364655504413063 * 15912906060576640579        took 182.4s
```
# Requirements
You must have an integer mode wide enough to hold 128 bits, and be able to : 
```c
#include <stdlib.h>
#include <string.h>
#include <stdint.h>
#include <math.h>
```
Also if you want to run the `main.c` you must be able to :
```c
#include <stdio.h>
#include <sys/time.h>
```
# Compilation
You can download the files `qs.c` and `main.c` in the same directory then compile + execute :
```sh
gcc -O3 -std=c99 -Wall -pedantic main.c -lm ;
./a.out ;
```
You can normally [Try it Online](https://tio.run/##vTxdb@M4ku/5FexedMaK7URfluV1pweLxT0cMHsPd/MWZA3Zlm0lspyW5HTmI/fTb66KpFRFSsqkD4sLuhOZLBaL9c0i5c10v9n88Zes2OTnbSo@V/U2z9bXhy8XvK3Mir3dts2K2mw7JvUBWy7@sk13WZGKv//7f/y8@q@//@2nfxMjT3z@LDzfubiof3lKAUCsVmdA4fnxqhZPpyqrs@d0VZyP67QUSwKD2c@bWvx2IeDHhntO8nNaiTv/fin7N4ekFFdil2zqU1mtntNNvbx4FdXxdKoPetAKmi6qOqmzjdiciqoWVfZrCkRsgJxV@vJ0KtKiFrci8JYmXH4q9uoXQCrwdVKlAOr99BOuz8AwtAYTyzapkztilF6HpigrtukLLgARA77nU7ZVk2xP3wo/G@GzuFLrcjT@bCdGqmX6RSIQt7dMFI4o0/pcFmqiBtAiQ0yFdy@@fIGVKbjdqRSjhirB8QGov4Q2gDVmXYrpNGto6kyViTHO8Pst0ara78Wl8Bxk5siUB1DkLAeQGaS@drgggQzi7pEnriPGY5Pmi1fO5PPTv4LFNussLmXiMxu6BJLe4tpUc627/u/jVw/f0T4d4P5/t4r9fn5KuhyQeJed2oKyIkeXQMzNiqwm5k76TbvhxDE9Vmk9koDuRJrHaSdHOw7jMvS3AjGYKpEtheyX1EtKSRnEyLBKZyQHiE9k5M5EIRE3t6xRrrB1BpvT8Skp05HyFmpt@aGaCN5QHqpWjeBzCe4LpsdJxQj6iKF5@0EvEUUgwUF1xeUlAxAfDPVrpW6rHuFfig8jY2qJrFGFqYLUHx0HZwO9NDVVU6VUHddhWc/xnP8pJybNY1pZooaWIVEjH9jaDdMTv//OVmmZZcsXQN6rJxIgzcGl/9YP64HbYlOPhSExGxP35BPxMBGPKIMW30TkS1NUtox6fMMEfj1yB9EOzmHwI0wDf3KG46GDI0ccD46BoV2plHl@L8Yai/z8cA9BlavEsjv9g2Vy0@kDxgRa7tKm2pzzQfm28S1vuxc3wnJHA6PvxafbIdDXi@4TE@uUT8nbkR6wLLfxg4Z6V@d1ExzetHFTWbks0KrK/i7Oqg4GNga0naREQPeS820HDbi3ZWAmI4loV2vrb4@hGOKX4b6dVgu8I7BRIn2t4WtuDc0Cm0og/GNw/tGCHHPPK/5qU6rJSJbCxp9M1MRGu55icAacYCJzmN5p3pDph16RSMuzXbrUK@VxKChKdXKdXq1Lttv3aN2gWN8Q5zvE2CO@cZ/4vjA2Yh7SEeW0X5QDIhwPiLBnmsFZbHGiVaE3RxfLxMLlqtx9ZoW1bfb87rD2tY1vjWBIyiXJuCstI52QM6BwlxaKr4QCl5PYXiMBDrm9sYKpQf52vOlz2hJFS6b0t0C1SsH74FuqZUJdOsteiKFdCAhfXJqC/XEQ@HeQ2V8HeyG59QYnp2DQuM2BQGD/IKsNgZVKXGhG7hA/Wp7IOFJyAff9fKXFQ/af9AO@XrzdYn76SnpupDQG04z8xhPLfgxgoA2BX40dVsfLXZUwHdqMRqWb7dH2DlOqgWdZYvW1rA1TVDuH1uZgz99wX29CTENTVQLyjSjHpk1KrgVAPzCytghil59O5UgSMdqezuscPBk5NZ6ssqXcWvs/8q3MMwDhZNlWOirXljw9lSdk0m/uK2gOcVl1XDc85DOPrYlxy@h1RkopcCz3zfLfsfo39tsO021kycjaP4@N5EeWAJptzmiYtKtbLSNpa8R8Q0vfWpkRP5amLNDRNxp1qQYCr6VsLrkPo7isOxWsDaErNlIrTV5gE9vIGTKEBM/4/ME2DAbRs8KpUMiVP6N5ZILoO32JjenJjBVhzrQk5btSve9g1mSQSZMuc3jio@3Wrg3A1rLOnvJsA72nYnU8bc/5aWRDJd2iwroJ1R2Mp60zUGNU22RIHurj01Lc3IhvqUikFzo9pyXYwTewCCFpSGzSrimtWeMGBaBkeoMRzYMwtkY5QCMKCqb5Uf6eqiaZsOBn8K5r9UkHWciFgBYgau3Q@DWMxlY@eo1jobGzVRefJClGfQbSgWr1VGbHtMPJYiLORZXti3QrHof4lCguIYsnYjsR6UTsJmK/bEsdhwkmU60HKNDClZ3DM5p8UzcTsssn2AI0L4yixcIHeJDALkGfj4JMX55Kyd/qmOS5kORX12yXJ/GN9ATwaySRRQ5saEMf3I774rvx3/w49qVHLIAzgXI7ctIF2tcIW@fYiA@e1z4F7RP1Lponv@31Fy3CReS1GIMWUdAOD9u2sB0etr2ztm3WThO1I6J5O83MDWmeeQsxb8fP2/Fx2xa3bQtajkurdWm5Lk3leXFMc3nugvhE8D4hDBj7WCsNC@lxRrAzmtGPZhHJxYtomogQzplsCGFMCBfskWDZyhcktTCc@bRGnzTAZ0KmNfo@UwICoDX6JGZ/xh5pjdHCY2v0aY1@RFhIsP6cJqc1@jFTwfYxcFvYQK1EaeZ8wWYMSHgBKXfAVJaEF4TssaUuIGUNSFsDpqQgdM9nU5LIAhJZQGsISEEDklNIGhqS8oVkh6FPi/Ti2ZxZYBgwcyN7I0GFzAppaeGMZifzC0lIIVslKEPIjDGkpYUxoSFtDBctwIwsbkZLm/kePRJASKv0wVG6xNgZcyBE@YzInZFOzUinZqRTM6J0tmA@iCwkiDzfpVVGJJSI1C0ipYo81kq@jOQRheyRhoXE2NCPQrbKiPQtYt6Ru0cCoKVFpF8RCWHuskda5QyMMuKOtZ1nTtY/J02akybNaRFzMvk5yWNOlM4jNuViPmNGMmcunIQyJ3OISVFi8lOxzx7J4RPRMYtRczdYMHcX0yJi4nFMlMfE7piUKiYex@SSYhZuYpJl7IMwaZUL0pkFLWJB7F6Qh12QI1qQzixI5xdE9ILZ5SL0Y2aXC1L8BVG@IHIXpB0LHh9ZwHNZxHM91s49kBv5XIcgqvIIyxCwkOiymOiyoOhG/JmNjRh8zGP1wvXNaM0QsDDoshXyuG@Ed5b0eD6D8RnMjK08AE/IDBY62SBGvUei8HjE9mI2ISPWZzmKz5MOj608XMzmzI48Frk9Fq9hIQwZS1B8JgJ/xp7nDIZlGjr2qsnBC/EEAjoZIBOBz9gesFUFTAQsfEMuRXgCn8H7cx7y/IBPHjClCVjGxOKvFzC2BwuWmzH5h4yDIUvwQuZKfHcWhDFjOwuzXsiTvpAhYBoeMh0JGdtDpiNhzJ8DFnlBR3mmyAKuF8Y842STLHj6yfJPttoZ05FZyNpDtvIQ9JVr@4ytZMZWMmMiYNEXnhlMzMYyHWFh1otYTu7P4tjIyiMmNxaFPRZ7vYgpUMTkGTEriGbsmSfePOGZx7MZ93AR80YRY3XEV8LYPmfEzhlRcyYCFmS9OUt9Anfmu5ztc6ZYcyaCORPBnNnwnLGaRVh4ZrsIxvaYpdBBAOk@dzIs1noxU5qYERUzc4yZLsRMF2JmmiyuwjPLwGaQynA7jxnFC0YxC66wCWJbn4DviFg783wLZpqLOZkaZPIRz3Khkw2K@aaKITY2W7StccnbgWv32DNtclzm4cDSIh7KoZMhY7sud8YQR/yZwbDtk8v2T27MJo/51tCdxS6fnK3EY9Sz7bDPQqTPNsQ@2xH7HtsjeiEbOwucf9XPkpenbsUGbydhUXEiDrIsLj5AOxZOllipUqWn8fjgGKd1j9Opceojm/dq/B44pG9wWOUiQDkaqet6jrhMnLv9eCwv4mCbUybFdgT0YbEHn09HXVxuZ9me1ERbGJPqGnWCF3YmYofLWGLXp1uxk5dXRjt83jpLVnr9dsjyFKG@CMnpHT441o0MRL@TZw/w5/OtWMu/n2@7kNihjsAEDuovUW5lZaxwkMhL4CmSNgydami7eL7VlbPNqaiz4pz23CI5LEU2nSL@LdaMN@8hqjMLDmxrci6/Dabb1IlMTy119XT61qkivnTrsenLU7exeLsSy28kvqBYi@USETUK@jK4UCDgRS7UWCcMtQ/pdLOqGapZ@zHKW0oSZ@eka12myWPvFameG3FXx/S4quoyyfaHeqSanmo6NZZ2goSsVkldl9n6XKer1WiU5LIoO5p5fqsl@lpXY1uABo9vAAIse4RXbqFlVcsOB3fxnt9Lpc18ddCyKg@nUX8JvZiY12mrTZK3F/h0G9aIpx4Wpm@Fr48AbTxYPdYGrdyAKiXrw2/o2SqhX2g3YJ55j8cJWsfaFik4kjo7pqdzLfYwWSHWv4j6kCoqRVLuz8e0qK87apBghV0vpa1Om8egSO0G1yT9wsS@RUOnrptBPdrIonlh@5TxGDvwmGuDxggcRldXKBe3AX@1FT/C36nAej8eAoCdK1eXKreXKhfYuL3XxukB0O8S6JY8mV7d7g3pD0leH/y0qnwqfxk8JVAnBNKzI/91M2hnVgHnnpIyOaY1tNQn2f/1nGxLaS9Vlj6n11ybtoofXqROGibyhEFdtJuIfCKOdGFCAHlgqvVEnIFO1d4eachTzStxXOH5E0DBY7lCu9F3Zszb4@LqZVUBWWUK818ZnRW/hf6PFegC/Pbh98/wH48ZV2Bdab1Cbi6ta7WYSzj2wYXqkszSUFlV/NAcXWdVss7TazOIazg83VWqCK3N2a@4kUdGePALXZ8xmuGQ5A1ADPip1hCGfgojrpp7CLiINV6mTujI2l5JIsxVoKzTcpduwFFIZl63qNpjqEavUuddjFGnPy07RjJuuzpwezFeZ9lxt4DmyLxaM5t8U2FnBUNlf2omMCz50TPPTzVlG3uhagpQM/A4MM81C6MAt073WWFreSPfX9kholRSddIudnj4l5/2ub6UYB7Aa9IbJzoy9ByyhjTLcwxvuTy@z0eA7Uph2z05Dojeb0LJzY26kisxyfc3xLsNl5nrVmpSIHPkbYsrcLrIgj9H1tCkjBU9Kg@d2vlMGgu@bQBZ0oAXZf2lyMEAtvhn3NxwUIeQhtxbXQR34rvSqTbpjab5E3oaGCsvoCmLybVf7ckqaFDfxSCECOSBKNISOE7vNR/Ua5MIScBYE@AjAd0LQtY9ks7JP2LNVfKfNcn/Tif/O0r@s4FLSm3WD5xFbjYE7nuYA7aTozXu/wwXQ7LDkZP@te9QerhjwSPkZhZ129qGRVIUgyBFHrxtBdufHxVH@sM1ECPvO@P7GIfm6iEjVir4g1zrXzEu5Y685OgMTihXfFAH6A@D0zYzwPS@XmK/rI2fB@mrkN8HjVyjedBoehB0b5JdKYMaj@WGaPlmPzLZhnk1o4I1DG3QNweYCO10Ct3ISI@dNjaOvitQkA8yTxyLmfr4SCkZmQD4HuUuxDEpkn2KCeAFN7IH8ItbmhkCesfdaC80FgHCOhzYt4Fx/NiILPpdB5kpuKjcZvfPXQy@BdKmIjbozwD4wADNPMWGJjRgufzmksxklCO18hcbhTWBOXuqxTEKcBeyxX1HwOSdy038VZOw9VURjkta693@/pq/4gdQQOJEaEVKJ5ZvsXE9LC12fA/C1wvDZaLR6uu0Dt7seVT4ZVenKpIqGlJ7Pen9tXqT8U5edBz19bj3CuWV9DiNP5NGTRkaUypLXFLBcpspqXI5e/WnEzMlpVt0HWnbC/wITEdm7MGan7X0E1Nx1VjpWPS5@7XKO284nO@gpqxBR8xGvIHrIANsWGMO9D3L4SvLa5X5HvEPLMVA5bwVH9ugSMJJuNgsah0uXwPwxpr1rahqoOAaCorRFsuQtkujIGXnFAOUYJKCGY3U2bcuKlvW8mip62C31Nm@yd17lGN/T6vdw3ENVHzz9It2qI/oeSfDrJoYftn@AZd6hxjkywBbh3MV2fLW0PH48f94D7vdhu/FP2/bGPjBUAzPcboeR9vrTunirrHOndP1dWnr69B3dRJR4N0dbnrRK@/uh5LRPRKVDqmGFgNsbpUk9koSQzwzpKZh1Yf0OwZq2J//FFyS5X8HWT4ny/8Osvw/Jev1YjDHTVHWw7L6PpmZcRuv2d@assG3U9q21MxvhpNSSJb1ZulQ3R24jeiGf@KLAvDg8POBvp@GpJbXw6AlA/1/prQrLoiAPcGLSrzmyNZWH1pb/YDacii1Em9hPdMpBFVP6os0Yfvtnsvnibmhb7HuVL3Gw/gsL8grT443wekFAwdf5TJMl6EuNQY7H9hRPjDCFzJTtatE5vd6G9JMHzRzSCuTwR1NMrFjy45FAmv9nVdn1FqqN3B490Nj8e1kZAMOvzz3QGEedBZDL5LSCygSSe30vDxwiffcnxG99caAZPWGXHkkd9i4c95gWba87r68NJ3u7rEUjCVm4z1/PvHQYO/emlsW/fD1Odi2Jlg2ht0plpF1IbAprq2Xska2VvV6PF1bK4CN03MYlACzXs2vEslOnW8Nede3iyRVlZby20Uu8LZ3lueyCqQK90lZJr@Ib1l9UAW/5ts@xGmHpXFIeUHVoB8GrVPxa1qeRJ2Wx6xI6nR73alsX4n0Jd30XXlX5Wy9R@weU11JQt6qcy/boxDRnlbQfXbTihQ2uduFqQs652prN2rgZbeuRKXfTtX3PQVfgrGsQJZ1gQFr6VT6DBsdtOQe6EXDJs2VqZZT17B02FTdY6zKy0ewYphr4LDY6cGjEdwK3GxWPQAWE9nZXH@yQ3XniQhjx2FlXFCtf4BCpeX0P5N1VoBCVXV13Rs73hTkO4pxSVuVRjp0PVMWSjeJtgP9XtruXGyoPty3IjswOL3UtdWQXZLl/cgkvYrhWuKJLXHEdoOvJmpk1XmzSaseJg29k9hTIdIH6x@03i85@f5E6jsFMZ1TF@wY/6oh2RXGGVejmq/SvzyVp@dsm27ldJtTAU4mS4sNROc6eYRlC@WiRFJsydd5fjxdZzUdIoFTTvdpeX3Bv9doV55kiQSGr7AFRlTNK4syRavokJeP0@8cGfcsEHape/D3lfBc3PxWskg2FT@4P/R/JQdfYn1Cp1nUg/SDwJrvPJIE1qcO/ZxQsA/rHUs5rLoLXR10OPQxqR7lCbDxMro@EhSywqyzPJgTnQQ4h4/uR57/SBT4jhP@vcGYiU/qt1YHu@qS6G@7AR1CKFVIUDFtg0HO9myytjiq7qbT9b3mq/5ynLH95m11t8Yc86Pr@UE4i@bx4uPdVl6gtb4iI5EFsBs8j@o5GKb33uWJLxjW8fScjtCxefLccuPgUaM9U6JmQmd@g0ddfVG5ar@i5phkhbxa4KjlGuENMzRwL6eN@qIuf6Zx9cY2dBu9mv0xCF0/9oMowhcQgjiMAvgXzMPInYeBN49i3/NC39cSJbNVViu/PIF74Sg0ajL990E6zpKFAqnru9HHT2guH8Ggu9qMXz2DRxy7/FwdRpChnM48qZJODSfivCW0/TjbuzS7Mk2bMynMjv74n80uT/bVH9P8@L8) with DigitalOcean, and ask [Number Empire](https://numberempire.com/numberfactorizer.php?number=9999999999999999999999999999999991) for verifications. Thank You.

Shortest link to this page : [bit.ly/C-Factor](https://bit.ly/C-Factor)
